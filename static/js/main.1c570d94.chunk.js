(this.webpackJsonpwatchlist=this.webpackJsonpwatchlist||[]).push([[0],{17:function(e,t,a){},21:function(e,t,a){},22:function(e,t,a){},23:function(e,t,a){"use strict";a.r(t);var c=a(1),s=a.n(c),n=a(11),i=a.n(n),r=(a(17),a(6)),l=a(2),o=a(0),d=function(){return Object(o.jsx)("header",{children:Object(o.jsx)("div",{className:"container",children:Object(o.jsxs)("div",{className:"inner-content",children:[Object(o.jsx)("div",{className:"brand",children:Object(o.jsx)(r.b,{to:"/",children:"WatchList"})}),Object(o.jsxs)("ul",{className:"nav-links",children:[Object(o.jsx)("li",{children:Object(o.jsx)(r.b,{to:"/",children:"Watch List"})}),Object(o.jsx)("li",{children:Object(o.jsx)(r.b,{to:"/watched",children:"Watched"})}),Object(o.jsx)("li",{children:Object(o.jsx)(r.b,{to:"/add",className:"btn",children:"Add"})})]})]})})})},h=a(4),j=a(9),b=a(5),O=function(e,t){switch(t.type){case"ADD_MOVIE_TO_WATCHLIST":return Object(b.a)(Object(b.a)({},e),{},{watchlist:[t.payload].concat(Object(j.a)(e.watchlist))});case"REMOVE_MOVIE_FROM_WATCHLIST":return Object(b.a)(Object(b.a)({},e),{},{watchlist:e.watchlist.filter((function(e){return t.payload!==e.id}))});case"ADD_MOVIE_TO_WATCHED":return Object(b.a)(Object(b.a)({},e),{},{watchlist:e.watchlist.filter((function(e){return t.payload.id!==e.id})),watched:[t.payload].concat(Object(j.a)(e.watched))});case"MOVE_TO_WATCHLIST":return Object(b.a)(Object(b.a)({},e),{},{watchlist:[t.payload].concat(Object(j.a)(e.watchlist)),watched:e.watched.filter((function(e){return t.payload.id!==e.id}))});case"REMOVE_FROM_WATCHED":return Object(b.a)(Object(b.a)({},e),{},{watched:e.watched.filter((function(e){return t.payload!==e.id}))});default:return e}},u={watchlist:localStorage.getItem("watchlist")?JSON.parse(localStorage.getItem("watchlist")):[],watched:localStorage.getItem("watched")?JSON.parse(localStorage.getItem("watched")):[]},m=Object(c.createContext)(u),v=function(e){var t=Object(c.useReducer)(O,u),a=Object(h.a)(t,2),s=a[0],n=a[1];Object(c.useEffect)((function(){localStorage.setItem("watchlist",JSON.stringify(s.watchlist)),localStorage.setItem("watched",JSON.stringify(s.watched))}),[s]);return Object(o.jsx)(m.Provider,{value:{watchlist:s.watchlist,watched:s.watched,addMovieToWatchlist:function(e){n({type:"ADD_MOVIE_TO_WATCHLIST",payload:e})},removeMovieFromWatchlist:function(e){n({type:"REMOVE_MOVIE_FROM_WATCHLIST",payload:e})},addMovieToWatched:function(e){n({type:"ADD_MOVIE_TO_WATCHED",payload:e})},moveToWatchList:function(e){n({type:"MOVE_TO_WATCHLIST",payload:e})},removeFromWatched:function(e){n({type:"REMOVE_FROM_WATCHED",payload:e})}},children:e.children})},f=function(e){var t=e.movie,a=e.type,s=Object(c.useContext)(m),n=s.removeMovieFromWatchlist,i=s.addMovieToWatched,r=s.moveToWatchList,l=s.removeFromWatched;return Object(o.jsxs)("div",{className:"inner-card-controls",children:["watchlist"===a&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("button",{className:"ctrl-btn",onClick:function(){return i(t)},children:Object(o.jsx)("i",{className:"fa-fw far fa-eye"})}),Object(o.jsx)("button",{className:"ctrl-btn",onClick:function(){return n(t.id)},children:Object(o.jsx)("i",{className:"fa-fw fa fa-times"})})]}),"watched"===a&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("button",{className:"ctrl-btn",onClick:function(){return r(t)},children:Object(o.jsx)("i",{className:"fa-fw far fa-eye-slash"})}),Object(o.jsx)("button",{className:"ctrl-btn",onClick:function(){return l(t.id)},children:Object(o.jsx)("i",{className:"fa-fw fa fa-times"})})]})]})},p=function(e){var t=e.movie,a=e.type;return Object(o.jsxs)("div",{className:"movie-card",children:[Object(o.jsx)("div",{className:"overlay"}),t.poster_path?Object(o.jsx)("img",{src:"https://image.tmdb.org/t/p/w200".concat(t.poster_path),alt:"".concat(t.title," poster")}):Object(o.jsx)("div",{className:"filler-poster"}),Object(o.jsx)(f,{type:a,movie:t})]})},x=p,g=[{adult:!1,backdrop_path:"/1stUIsjawROZxjiCMtqqXqgfZWC.jpg",genre_ids:[12,14],id:672,original_language:"en",original_title:"Harry Potter and the Chamber of Secrets",overview:"Cars fly, trees fight back, and a mysterious house-elf comes to warn Harry Potter at the start of his second year at Hogwarts. Adventure and danger await when bloody writing on a wall announces: The Chamber Of Secrets Has Been Opened. To save Hogwarts will require all of Harry, Ron and Hermione\u2019s magical abilities and courage.",popularity:254.017,poster_path:"/sdEOH0992YZ0QSxgXNIGLq1ToUi.jpg",release_date:"2002-11-13",title:"Harry Potter and the Chamber of Secrets",video:!1,vote_average:7.7,vote_count:17196},{adult:!1,backdrop_path:"/rBeBQmSdn9rUZtbJjxtEhXkEBKM.jpg",genre_ids:[18,36],id:7214,original_language:"en",original_title:"Coach Carter",overview:"Based on a true story, in which Richmond High School head basketball coach Ken Carter made headlines in 1999 for benching his undefeated team due to poor academic results.",popularity:29.579,poster_path:"/y3HOTTyM5nLsdUzXFtFCohG28qj.jpg",release_date:"2005-01-14",title:"Coach Carter",video:!1,vote_average:7.5,vote_count:1982}],w=function(){var e=Object(c.useContext)(m),t=e.watchlist,a=e.addMovieToWatchlist;return Object(c.useEffect)((function(){0===t.length&&g.forEach((function(e){a(e)}))}),[]),Object(o.jsx)("div",{className:"movie-page",children:Object(o.jsxs)("div",{className:"container",children:[Object(o.jsxs)("div",{className:"header",children:[Object(o.jsx)("h1",{className:"heading",children:"My Watchlist"}),Object(o.jsxs)("span",{className:"count pill",children:[t.length," ",1===t.length?"Movie":"Movies"]})]}),t.length>0?Object(o.jsx)("div",{className:"movie-grid",children:t.map((function(e){return Object(o.jsx)(p,{movie:e,type:"watchlist"},e.id)}))}):Object(o.jsx)("h2",{className:"no-movie",children:"No movies on your watchlist, add some!"})]})})},N=function(){var e=Object(c.useContext)(m).watched;return Object(o.jsx)("div",{className:"movie-page",children:Object(o.jsxs)("div",{className:"container",children:[Object(o.jsxs)("div",{className:"header",children:[Object(o.jsx)("h1",{className:"heading",children:"Watched"}),Object(o.jsxs)("span",{className:"count pill",children:[e.length," ",1===e.length?"Movie":"Movies"]})]}),e.length>0?Object(o.jsx)("div",{className:"movie-grid",children:e.map((function(e){return Object(o.jsx)(x,{movie:e,type:"watched"},e.id)}))}):Object(o.jsx)("h2",{className:"no-movie",children:"No movies on watched"})]})})},y=a(12),_=a.n(y),C=function(e){var t=e.movie,a=Object(c.useContext)(m),s=a.addMovieToWatchlist,n=a.addMovieToWatched,i=a.watchlist,r=a.watched,l=!!i.find((function(e){return e.id===t.id})),d=!!r.find((function(e){return e.id===t.id}));return Object(o.jsxs)("div",{className:"result-card",children:[Object(o.jsx)("div",{className:"poster-wrapper",children:t.poster_path?Object(o.jsx)("img",{src:"https://image.tmdb.org/t/p/w200".concat(t.poster_path),alt:"".concat(t.title," poster")}):Object(o.jsx)("div",{className:"filler-poster"})}),Object(o.jsx)("div",{className:"info",children:Object(o.jsxs)("div",{className:"header",children:[Object(o.jsx)("h3",{className:"title",children:t.title}),Object(o.jsx)("h4",{className:"release-date",children:t.release_date?Object(o.jsx)(_.a,{format:"yyyy",children:t.release_date}):"-"})]})}),Object(o.jsxs)("div",{className:"controls",children:[Object(o.jsx)("button",{className:"btn",disabled:l,onClick:function(){return s(t)},children:"Add to Watchlist"}),Object(o.jsx)("button",{className:"btn",disabled:d,onClick:function(){return n(t)},children:"Add to Watched"})]})]})},T=function(){var e=Object(c.useState)(""),t=Object(h.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)([]),i=Object(h.a)(n,2),r=i[0],l=i[1];return Object(o.jsx)("div",{children:Object(o.jsx)("div",{className:"add-page",children:Object(o.jsx)("div",{className:"container",children:Object(o.jsxs)("div",{className:"add-content",children:[Object(o.jsx)("div",{className:"input-wrapper",children:Object(o.jsx)("input",{type:"text",placeholder:"search for movie",value:a,onChange:function(e){e.preventDefault();var t=e.target.value;s(t),fetch("https://api.themoviedb.org/3/search/movie?api_key=".concat("0be1c86f13738bc31769d4d7861480fe","&language=en-US&page=1&include_adult=false&query=").concat(t)).then((function(e){return e.json()})).then((function(e){e.errors?l([]):(l(e.results),console.log(r))}))}})}),r.length>0&&Object(o.jsx)("ul",{className:"results",children:r.map((function(e){return Object(o.jsx)("li",{children:Object(o.jsx)(C,{movie:e})},e.id)}))})]})})})})};a(21),a(22);var M=function(){return Object(o.jsx)(v,{children:Object(o.jsxs)(r.a,{children:[Object(o.jsx)(d,{}),Object(o.jsxs)(l.c,{children:[Object(o.jsx)(l.a,{exact:!0,path:"/",element:Object(o.jsx)(w,{})}),Object(o.jsx)(l.a,{exact:!0,path:"/add",element:Object(o.jsx)(T,{})}),Object(o.jsx)(l.a,{exact:!0,path:"/watched",element:Object(o.jsx)(N,{})})]})]})})},W=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,24)).then((function(t){var a=t.getCLS,c=t.getFID,s=t.getFCP,n=t.getLCP,i=t.getTTFB;a(e),c(e),s(e),n(e),i(e)}))};i.a.render(Object(o.jsx)(s.a.StrictMode,{children:Object(o.jsx)(M,{})}),document.getElementById("root")),W()}},[[23,1,2]]]);
//# sourceMappingURL=main.1c570d94.chunk.js.map